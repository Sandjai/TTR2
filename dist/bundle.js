!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(t,e){return Array.isArray(t)?function(t,e){for(var n,i="",a="",o=Array.isArray(e),s=0;s<t.length;s++)(n=r(t[s]))&&(o&&e[s]&&(n=l(n)),i=i+a+n,a=" ");return i}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var r in t)r&&t[r]&&i.call(t,r)&&(e=e+n+r,n=" ");return e}(t):t||""}function a(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)i.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function o(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.merge=function t(e,n){if(1===arguments.length){for(var i=e[0],r=1;r<e.length;r++)i=t(i,e[r]);return i}for(var o in n)if("class"===o){var s=e[o]||[];e[o]=(Array.isArray(s)?s:[s]).concat(n[o]||[])}else if("style"===o){s=(s=a(e[o]))&&";"!==s[s.length-1]?s+";":s;var l=a(n[o]);l=l&&";"!==l[l.length-1]?l+";":l,e[o]=s+l}else e[o]=n[o];return e},e.classes=r,e.style=a,e.attr=o,e.attrs=function(t,e){var n="";for(var s in t)if(i.call(t,s)){var l=t[s];if("class"===s){l=r(l),n=o(s,l,!1,e)+n;continue}"style"===s&&(l=a(l)),n+=o(s,l,!1,e)}return n};var s=/["&<>]/;function l(t){var e=""+t,n=s.exec(e);if(!n)return t;var i,r,a,o="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(o+=e.substring(r,i)),r=i+1,o+=a}return r!==i?o+e.substring(r,i):o}e.escape=l,e.rethrow=function t(e,i,r,a){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&i||a))throw e.message+=" on line "+r,e;try{a=a||n(4).readFileSync(i,"utf8")}catch(n){t(e,null,r)}var o=3,s=a.split("\n"),l=Math.max(r-o,0),u=Math.min(s.length,r+o);o=s.slice(l,u).map((function(t,e){var n=e+l+1;return(n==r?"  > ":"    ")+n+"| "+t})).join("\n");e.path=i;e.message=(i||"Pug")+":"+r+"\n"+o+"\n\n"+e.message;throw e}},function(t,e,n){var i=n(0);t.exports=function(t){var e,n="",r={},a=t||{};return function(t,a){r.addItem=e=function(t,r){this&&this.block,this&&this.attributes;n=n+'<li class="menu-item"'+i.attr("data-index",r,!0,!0)+">"+i.escape(null==(e=t.title)?"":e)+'<i class="close" data-action="remove"></i></li>'},r.addItem(a,t)}.call(this,"index"in a?a.index:"undefined"!=typeof index?index:void 0,"item"in a?a.item:"undefined"!=typeof item?item:void 0),n}},function(t,e,n){var i=n(0);t.exports=function(t){var e,n="",r={},a=t||{};return function(t,a){n=n+'<span class="menu_title menu-heading">'+i.escape(null==(e=a)?"":e)+'</span><ul class="menu-list">',function(){var a=t;if("number"==typeof a.length)for(var o=0,s=a.length;o<s;o++){var l=a[o];r.addItem=e=function(t,r){this&&this.block,this&&this.attributes;n=n+'<li class="menu-item"'+i.attr("data-index",r,!0,!0)+">"+i.escape(null==(e=t.title)?"":e)+'<i class="close" data-action="remove"></i></li>'},r.addItem(l,o)}else{s=0;for(var o in a){s++;l=a[o];r.addItem=e=function(t,r){this&&this.block,this&&this.attributes;n=n+'<li class="menu-item"'+i.attr("data-index",r,!0,!0)+">"+i.escape(null==(e=t.title)?"":e)+'<i class="close" data-action="remove"></i></li>'},r.addItem(l,o)}}}.call(this),n+="</ul>"}.call(this,"items"in a?a.items:"undefined"!=typeof items?items:void 0,"title"in a?a.title:"undefined"!=typeof title?title:void 0),n}},function(t,e,n){var i=n(0);t.exports=function(t){var e="";return e=e+'<form class="form"><fieldset></fieldset><ul class="form-set"><li><input class="title" type="text" name="title" required="required" placeholder="Название"></li><li><button class="form__btn button" type="submit" data-action="add">'+i.escape(null=="save"?"":"save")+"</button></li></ul></form>"}},function(t,e){},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),a=n(2),o=n.n(a);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.data=e.data,this._initEvents()}var e,n,i;return e=t,(n=[{key:"_initEvents",value:function(){this.el.addEventListener("click",this._onClick.bind(this))}},{key:"_onClick",value:function(t){t.preventDefault();var e=t.target;switch(e.dataset.action){case"remove":this._onRemoveClick(e);break;case"pick":this._onPickClick(e)}}},{key:"setData",value:function(t){this.data=t,this.render(t.title,t.items)}},{key:"_onRemoveClick",value:function(t){var e=t.parentNode,n=parseInt(t.parentNode.dataset.index,10);e.addEventListener("animationend",this.removeItem.bind(this,{index:n})),e.classList.add("bounce-out-right")}},{key:"removeItem",value:function(t){this.data.items=this.data.items.filter((function(e,n){return n!==t.index})),this.render(this.data.title,this.data.items)}},{key:"render",value:function(t,e){this.el.innerHTML=o()({title:t,items:e})}},{key:"addItem",value:function(t){var e=document.createElement("div");e.innerHTML=this.liItemHtml(t,this.data.items.length),e=e.firstElementChild,this.listEl.append(e),e.addEventListener("animationend",(function(){e.classList.remove("bounce-in-left")})),e.classList.add("bounce-in-left"),this.data.items.push(t)}},{key:"liItemHtml",value:function(t,e){return r()({item:t,index:e})}},{key:"listEl",get:function(){return this.el.querySelector(".menu-list")}}])&&s(e.prototype,n),i&&s(e,i),t}(),u=n(3),c=n.n(u);function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.data=e.data,this._initEvents()}var e,n,i;return e=t,(n=[{key:"_initEvents",value:function(){this.el.addEventListener("submit",this._onSubmit.bind(this))}},{key:"_onSubmit",value:function(t){t.preventDefault(),this.trigger("save",{title:this.el.querySelector('input[name="title"]').value}),t.target.reset()}},{key:"addEventListener",value:function(t,e){this.el.addEventListener(t,e)}},{key:"trigger",value:function(t,e){var n=new CustomEvent(t,{detail:e});this.el.dispatchEvent(n)}},{key:"render",value:function(){this.el.innerHTML=c()()}}])&&f(e.prototype,n),i&&f(e,i),t}();window.App=function t(e){var n=e.el;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=new l({el:n.querySelector(".js-menu"),data:{}});i.setData({title:"Категория 1",items:[{title:"Product 1"},{title:"Product 2"},{title:"Product 3"},{title:"Product 4"},{title:"Product 5"},{title:"Product 6"}]});var r=new d({el:n.querySelector(".js-form"),data:{}});r.render(),r.addEventListener("save",(function(t){i.addItem(t.detail)}))}}]);