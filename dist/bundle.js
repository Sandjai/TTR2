!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(t,e){return Array.isArray(t)?function(t,e){for(var n,i="",a="",o=Array.isArray(e),l=0;l<t.length;l++)(n=r(t[l]))&&(o&&e[l]&&(n=s(n)),i=i+a+n,a=" ");return i}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var r in t)r&&t[r]&&i.call(t,r)&&(e=e+n+r,n=" ");return e}(t):t||""}function a(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)i.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function o(t,e,n,i){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(i?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=s(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.merge=function t(e,n){if(1===arguments.length){for(var i=e[0],r=1;r<e.length;r++)i=t(i,e[r]);return i}for(var o in n)if("class"===o){var l=e[o]||[];e[o]=(Array.isArray(l)?l:[l]).concat(n[o]||[])}else if("style"===o){l=(l=a(e[o]))&&";"!==l[l.length-1]?l+";":l;var s=a(n[o]);s=s&&";"!==s[s.length-1]?s+";":s,e[o]=l+s}else e[o]=n[o];return e},e.classes=r,e.style=a,e.attr=o,e.attrs=function(t,e){var n="";for(var l in t)if(i.call(t,l)){var s=t[l];if("class"===l){s=r(s),n=o(l,s,!1,e)+n;continue}"style"===l&&(s=a(s)),n+=o(l,s,!1,e)}return n};var l=/["&<>]/;function s(t){var e=""+t,n=l.exec(e);if(!n)return t;var i,r,a,o="";for(i=n.index,r=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}r!==i&&(o+=e.substring(r,i)),r=i+1,o+=a}return r!==i?o+e.substring(r,i):o}e.escape=s,e.rethrow=function t(e,i,r,a){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&i||a))throw e.message+=" on line "+r,e;try{a=a||n(3).readFileSync(i,"utf8")}catch(n){t(e,null,r)}var o=3,l=a.split("\n"),s=Math.max(r-o,0),u=Math.min(l.length,r+o);o=l.slice(s,u).map((function(t,e){var n=e+s+1;return(n==r?"  > ":"    ")+n+"| "+t})).join("\n");e.path=i;e.message=(i||"Pug")+":"+r+"\n"+o+"\n\n"+e.message;throw e}},function(t,e,n){var i=n(0);t.exports=function(t){var e,n="",r={},a=t||{};return function(t,a){var o=1;r.addItem=e=function(t,r,a){this&&this.block,this&&this.attributes;n=n+'<li class="menu-item"'+i.attr("data-index",r,!0,!0)+">"+i.escape(null==(e=t)?"":e)+'<i class="close" data-action="remove"></i></li>'},r.forEachItem=e=function(t){this&&this.block,this&&this.attributes;(function(){var e=t;if("number"==typeof e.length)for(var a=0,l=e.length;a<l;a++){(s=e[a]).items?(r.addItem(s.title,a,o),n=n+'<ul class="menu-list"'+i.attr("data-index",o,!0,!0)+">",o=++o,r.forEachItem.call({block:function(){n+=" "}},s.items),n+="</ul>"):r.addItem(s.title,a,o)}else{l=0;for(var a in e){var s;l++,(s=e[a]).items?(r.addItem(s.title,a,o),n=n+'<ul class="menu-list"'+i.attr("data-index",o,!0,!0)+">",o=++o,r.forEachItem.call({block:function(){n+=" "}},s.items),n+="</ul>"):r.addItem(s.title,a,o)}}}).call(this)},n=n+'<span class="menu_title menu-heading">'+i.escape(null==(e=a)?"":e)+'</span><ul class="menu-list" data-index="0">',r.forEachItem(t),n+="</ul>"}.call(this,"items"in a?a.items:"undefined"!=typeof items?items:void 0,"title"in a?a.title:"undefined"!=typeof title?title:void 0),n}},function(t,e,n){var i=n(0);t.exports=function(t){var e="";return e=e+'<form class="form"><fieldset></fieldset><ul class="form-set"><li><input class="title" type="text" name="title" required="required" placeholder="Название"></li><li><button class="form__btn button" type="submit" data-action="add">'+i.escape(null=="save"?"":"save")+"</button></li></ul></form>"}},function(t,e){},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.data=e.data,this._initEvents()}var e,n,i;return e=t,(n=[{key:"_initEvents",value:function(){this.el.addEventListener("click",this._onClick.bind(this))}},{key:"_onClick",value:function(t){t.preventDefault();var e=t.target;switch(e.dataset.action){case"remove":this._onRemoveClick(e);break;case"pick":this._onPickClick(e)}}},{key:"setData",value:function(t){this.data=t,this.render(t.title,t.items)}},{key:"_onRemoveClick",value:function(t){var e=t.parentNode,n=parseInt(t.parentNode.dataset.index,10);e.addEventListener("animationend",this.removeItem.bind(this,{index:n})),e.classList.add("bounce-out-right")}},{key:"removeItem",value:function(t){this.data.items=this.data.items.filter((function(e,n){return n!==t.index})),this.render(this.data.title,this.data.items)}},{key:"render",value:function(t,e){this.el.innerHTML=r()({title:t,items:e})}},{key:"addItem",value:function(t){this.data.items.push({title:t}),this.render(this.data.title,this.data.items)}}])&&a(e.prototype,n),i&&a(e,i),t}(),l=n(2),s=n.n(l);function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e.el,this.data=e.data,this._initEvents()}var e,n,i;return e=t,(n=[{key:"_initEvents",value:function(){this.el.addEventListener("submit",this._onSubmit.bind(this))}},{key:"_onSubmit",value:function(t){t.preventDefault(),this.trigger("save",{title:this.el.querySelector('input[name="title"]').value}),t.target.reset()}},{key:"addEventListener",value:function(t,e){this.el.addEventListener(t,e)}},{key:"trigger",value:function(t,e){var n=new CustomEvent(t,{detail:e});this.el.dispatchEvent(n)}},{key:"render",value:function(){this.el.innerHTML=s()()}}])&&u(e.prototype,n),i&&u(e,i),t}();window.App=function t(e){var n=e.el;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=new o({el:n.querySelector(".js-menu"),data:{}});i.setData({title:"Категория 1",items:[{title:"Product 1"},{title:"Product 2"},{title:"Product 3"},{title:"Product 4"},{title:"Product 5"},{title:"Product 6"}]});var r=new c({el:n.querySelector(".js-form"),data:{}});r.render(),r.addEventListener("save",(function(t){i.addItem(t.detail.title)}))}}]);